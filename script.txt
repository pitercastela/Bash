#!/bin/bash

trap '' 2 
mkdir dir
cd ./dir

touch biblioteca_log.txt
cat biblioteca_log.txt




cabecalho () {
    
    echo "###############################################################
# IBMEC                                                       #
# Sistemas Operacionais Semestre 2 de 2025                    #
# Código: IBM0791 Turma: 8001                                 #
# Professor: Luiz Fernando T. de Farias                       #
#-------------------------------------------------------------#
# Equipe Desenvolvedora:                                      #
# Aluno: Lucas Alves Castela Pereira                          #
# Aluno: Rodrigo de Souza Ferrett                             #
# Aluno: Sarah Ferrari                                        #
#-------------------------------------------------------------#
# Rio de Janeiro, `date +%d` de `date +%b` de `date +%Y`                           #
# Hora do Sistema: `date +%H` Horas e `date +%M` Minutos                      #
###############################################################"
}

menu () {
while true
    do
    cabecalho
echo "Menu de escolhas: 

    1) Adicionar ou remover livros
    2) Listar livros
    3) Buscar livro
    4) Editar dados
    5) Finalizar programa."
    
    
    read escolha
    case $escolha in

        1)
            adicionar_remover_arquivos
            ;;

        2)
            clear 
            
            cabecalho
            
            echo "--- Lista de Livros Cadastrados ---"
            echo ""
            
            cat biblioteca_log.txt | more
            
            echo "" 
            echo "Pressione [Enter] para voltar ao menu..."
            read
            ;;

        3)
            buscar_livro
            ;;

        4)
            editar_arquivo
            ;;
    
        5)
            trap 2
            break
            ;;    

        *)
            echo "Opção inválida"
            sleep 1
            ;;

esac
    done
}

adicionar_remover_arquivos () {
    echo
    cabecalho
    
    while true
    do
echo "Menu de escolhas: 

    1) Adicionar
    2) Remover
    3) Finalizar programa."
    
    
    read escolha
    case $escolha in

        1)
            sleep 1
	clear
            adicionar
            ;;

        2)
             sleep 1
	clear
            remover
            ;;

        3)
            echo "3
            "
            break
            ;;

        *)
            echo "Opção inválida"
            sleep 1
            ;;

esac
    done
    
    
}

editar_arquivo () {
    echo
    cabecalho
    
    while true
    do
echo "Menu de escolhas: 

    1) Alterar quantidade
    2) Alterar nome do livro
    3) Alterar nome do autor
    4) Alterar descricao
    5) Voltar"
    
    
    read escolha
    case $escolha in

        1)
            sleep 1
	clear
            echo “1”
            ;;

        2)
            echo "2
            "
            ;;

        3)
            echo "3
            "
            ;;
       4)
            echo "4
            "
            ;;
       5)
            echo "5
            "
            break
            ;;

        *)
            echo "Opção inválida"
            sleep 1
            ;;

esac
    done
    
    
}


adicionar() {
    echo "Digite o nome do livro."
    read livro
    echo "Digite o nome do autor do livro."
    read autor
    echo "Digite uma descrição breve do livro"
    read desc
    echo "Digite a quantidade em estoque do livro"
    read qtd
    id=`wc -l < biblioteca_log.txt`
    echo "[ID]: $id | [LIVRO]: $livro | [AUTOR]: $autor | [DESC]: $desc | [QTD]: $qtd" >> biblioteca_log.txt
}
remover(){

}





menu




